**标准化**

1. 线性缩放
2. Z分数缩放

1. 对数缩放
2. 裁剪



***分箱***

**分箱**（也称为**分桶**）是一种 [**特征工程**](https://developers.google.com/machine-learning/glossary?hl=zh-cn#feature_engineering) 将不同的数值子范围分组到*分箱*或 [***存储分区\***](https://developers.google.com/machine-learning/glossary?hl=zh-cn#bucketing)。 在许多情况下，分箱会将数值数据转换为分类数据。 例如，假设某个[**功能**](https://developers.google.com/machine-learning/glossary?hl=zh-cn#feature) 名为 `X`，其最小值为 15； 最高值为 425借助分箱，您可以使用`X` 以下五个分箱：

- 分箱 1：15 到 34
- 分箱 2：35 到 117
- 分箱 3：118 到 279
- 分箱 4：280 到 392
- 分箱 5：393 到 425

分箱 1 的范围为 15 到 34，因此 `X` 的每个介于 15 到 34 之间的值 最终出现在分箱 1 中。在这些分箱上训练的模型不会有任何不同 更改为 `X` 值 17 和 29，因为这两个值都位于分箱 1 中。

**分箱**是[**扩缩**](https://developers.google.com/machine-learning/glossary?hl=zh-cn#scaling)的一个很好的替代方案 或[**裁剪**](https://developers.google.com/machine-learning/glossary?hl=zh-cn#clipping)时， 满足以下条件：

- 特征与 [**label**](https://developers.google.com/machine-learning/glossary?hl=zh-cn#label) 弱或不存在。
- 对特征值进行聚类时。

分箱可能会让人感觉不合常理，因为 上一个示例以相同方式处理值 37 和 115。但当 因此，对于某个特征，分箱比线性特征 代表数据。



**不要分桶:** 鉴于大多数图表的随机性，这可能是最佳策略。





## 分位数分桶

**分桶**可创建分桶边界， 或每个分桶中的样本数完全匹配或几乎相等。分位数分桶 大部分情况下隐藏离群值。

**等间隔的分桶**适用于许多数据 **分发。**

对于**偏差数据**， 不过，可以尝试**分位数分桶。**

相等间隔会额外提供 将大型躯干压缩到“长尾”， 单个存储分区。分位数桶为 大躯干，同时将长尾压缩到单个存储分区中。





# 数值数据：擦除bookmark_border

苹果树结出的果实有美味的果实，还有臭虫的滋生。 而高端杂货店的苹果是 100% 完美的水果。 在果园和杂货店之间，有人花费大量时间 或者给可挽救的苹果喷蜡。 作为一名机器学习工程师，您将花费大量时间 丢弃不良样本，清理可挽救的样本。 即使是几个坏苹果也可能会破坏大型数据集。

由于存在一个或多个 以下问题：

| 问题类别           | 示例                                          |
| :----------------- | :-------------------------------------------- |
| 省略的值           | 人口普查员未能记录居民的年龄。                |
| 重复示例           | 服务器会将相同的日志上传两次。                |
| 超出范围的特征值。 | 有人不小心输入了额外的数字。                  |
| 标签有误           | 一名人工评估员误将一张橡树的图片标记为 枫树。 |

您可以编写程序或脚本来检测以下任何问题：

- 省略的值
- 重复示例
- 超出范围的特征值



# 数值数据：良好数值特征的特性

本单元探讨了将原始数据映射到合适[**特征向量**](https://developers.google.com/machine-learning/glossary?hl=zh-cn#feature_vector)的方法。优质的数值[**特征**](https://developers.google.com/machine-learning/glossary?hl=zh-cn#feature)具有本部分中所述的特性。



# 数值数据：多项式转换

有时，当机器学习从业者拥有的领域知识表明一个变量与另一个变量的平方、立方或其他幂相关时，从现有的某个数值[**特征**](https://developers.google.com/machine-learning/glossary?hl=zh-cn#feature)中创建[**合成特征**](https://developers.google.com/machine-learning/glossary?hl=zh-cn#synthetic_feature)会很有用。



----

**处理分类数据**

[**分类数据**](https://developers.google.com/machine-learning/glossary?hl=zh-cn#categorical-data)具有 *一组特定的可能值*。例如：

- 国家公园内的不同物种
- 特定城市的街道名称
- 电子邮件是否为垃圾邮件
- 房屋外部的颜色是绘制的
- 分箱数字，具体说明请参阅[使用数值 Data](https://developers.google.com/machine-learning/crash-course/numerical-data?hl=zh-cn) 模块



## 数字也可以是分类数据

可以对真实的[**数值数据**](https://developers.google.com/machine-learning/glossary?hl=zh-cn#numerical-data)进行有意义的乘法运算。例如，假设有一个模型，用于根据房屋的面积预测其价值。请注意，一个有用的房价评估模型通常取决于 数百项功能。尽管如此，在其他条件相同的情况下， 只有 200 平方块的房屋 约为 100 平方米的相同房屋价值的两倍 米。

通常，您应将包含整数值的特征表示为分类数据，而不是数值数据。例如，假设有一个邮政编码地图项，其中值为整数。如果您以数值（而非分类）来表示此特征，则表示您要求模型找出不同邮政编码之间的数值关系。也就是说，您可以指示模型 将邮政编码 20004 视为邮政编码的两倍（或一半） 10002。将邮政编码表示为分类数据可让模型 并单独计算每个邮政编码的权重。



## 编码

**编码**是指将分类数据或其他数据转换为**数值向量** 可用于训练的模型。必须进行这种转换，因为模型 仅使用浮点值进行训练；**模型无法基于字符串进行训练**， `"dog"` 或 `"maple"`。本单元将介绍 编码方法。

---

机器学习模型只能基于具有浮点值的特征进行训练，因此您需要在训练之前将这些字符串转换为浮点值。



## 指数

机器学习模型只能处理浮点数。因此，您必须将每个字符串转换为唯一的索引号，如下例所示：

将字符串转换为唯一索引号后，您需要进一步处理数据，以便以有助于模型学习值之间有意义关系的方式来表示数据。如果分类特征数据保留为索引整数并加载到模型中，模型会将索引值视为连续的浮点数。然后，模型会认为“紫色”的可能性是“橙色”的 6 倍。



## 独热编码

构建词汇表的下一步是将每个索引号转换为其[**独热编码**](https://developers.google.com/machine-learning/glossary?hl=zh-cn#one-hot_encoding)。 在独热编码中：

- 每个类别都由一个包含 N 个元素的向量（数组）表示，其中 N 是类别的数量。例如，如果 `car_color` 有 8 个可能的类别，则表示它的独热向量将有 8 个元素。
- 独热向量中*一个*元素的值为 1.0，其余所有元素的值均为 0.0。



**注意**： 在真正的 one-hot 编码中，只有一个元素的值为 1.0。在一种称为**多热编码**的变体中，多个值可以为 1.0。

